<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.disposable.shop.dao.shopDao">

	<select id="shopMain" parameterType="java.util.Map" resultType="java.util.Map">
		SELECT * FROM FOOD WHERE STORENUM = #{storenum}
		<if test="foodnum != '' and foodnum != null">
		AND FOODNUM = #{foodnum}
		</if>
		<!-- SELECT *
		FROM FOOD F
		INNER JOIN SHOP S
		ON F.STORENUM = S.STORENUM
		WHERE F.STORENUM = #{storenum} -->
	</select>
	
	<select id="getFoodOption" parameterType="java.util.Map" resultType="java.util.Map">
		SELECT * 
		FROM FOODOPTION 
		WHERE STORENUM = #{storenum} 
		AND FOODNUM = #{foodnum} 
		ORDER BY OPTIONGROUP
	</select>
	
	<select id="getStoreInfo" parameterType="String" resultType="java.util.Map">
		SELECT * FROM SHOP WHERE STORENUM = #{storenum}
	</select>
	
	<insert id="orderInsert" parameterType="java.util.Map">
		INSERT INTO ORDERFOOD (ORDERNUM, STORENUM, FOODNUM, PRICE, EMAIL, ORDERCODE, OPTIONS)
		VALUES (ORDER_SEQ.NEXTVAL, #{storenum}, #{foodnum}, #{price}, #{email}, #{ordercode}, #{options})
	</insert>
	
</mapper>